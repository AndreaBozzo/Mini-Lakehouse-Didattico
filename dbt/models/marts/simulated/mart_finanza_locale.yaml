version: 2

models:
  - name: mart_finanza_locale
    description: "Tabella aggregata bilanci per comune e anno con flag di anomalia"
    config:
      contracts:
        enforced: true
    columns:
      - name: codice_comune
        description: "Codice ISTAT del comune"
        type: string
        tests: [not_null]

      - name: nome_comune
        description: "Denominazione ufficiale del comune"
        type: string
        tests: [not_null]

      - name: anno
        description: "Anno di esercizio"
        type: integer
        tests: [not_null]

      - name: entrate_tributarie
        description: "Entrate totali registrate"
        type: double
        tests: [not_null]

      - name: spese_correnti
        description: "Spese totali registrate"
        type: double
        tests: [not_null]

      - name: saldo
        description: "Differenza entrate - spese"
        type: double
        tests: [not_null]

      - name: flag_anomalia
        description: "True se presente almeno una anomalia audit"
        type: boolean
        tests: [not_null]
